/*!
 * リソース
 * @author Miyake Shunsuke
 * @since 2011.12.15
 */

#ifndef _INCLUDED_TB_RESOURCE_H_
#define _INCLUDED_TB_RESOURCE_H_

#include <base/preprocess/tb_preprocess_cat.h>
#include <file/resource/tb_resource_base.h>

// 分岐
#define TB_RESOURCE_TEMPLATE_USERARGS_F(count) TB_PP_CAT(TB_RESOURCE_TEMPLATE_USERARGS_,count)
#define TB_RESOURCE_DECL_USERARGS_F(count) TB_PP_CAT(TB_RESOURCE_DECL_USERARGS_,count)
#define TB_RESOURCE_USERARGS_F(count) TB_PP_CAT(TB_RESOURCE_USERARGS_,count)
#define TB_RESOURCE_DECLMEMBER_USERARGS_F(count) TB_PP_CAT(TB_RESOURCE_MEMBERDECL_USERARGS_,count)
#define TB_RESOURCE_MEMBER_USERARGS_F(count) TB_PP_CAT(TB_RESOURCE_MEMBER_USERARGS_,count)

// 可変引数テンプレート対応用
#define TB_RESOURCE_TEMPLATE_USERARGS TB_RESOURCE_TEMPLATE_USERARGS_F(TB_RESOURCE_USERARGS_MAX)
#define TB_RESOURCE_DECL_USERARGS TB_RESOURCE_DECL_USERARGS_F(TB_RESOURCE_USERARGS_MAX)
#define TB_RESOURCE_USERARGS TB_RESOURCE_USERARGS_F(TB_RESOURCE_USERARGS_MAX)
#define TB_RESOURCE_DECLMEMBER_USERARGS TB_RESOURCE_DECLMEMBER_USERARGS_F(TB_RESOURCE_USERARGS_MAX)
#define TB_RESOURCE_MEMBER_USERARGS TB_RESOURCE_MEMBER_USERARGS_F(TB_RESOURCE_USERARGS_MAX)

#define TB_RESOURCE_TEMPLATE_USERARGS_0
#define TB_RESOURCE_TEMPLATE_USERARGS_1 typename T1
#define TB_RESOURCE_TEMPLATE_USERARGS_2 typename T1,typename T2
#define TB_RESOURCE_TEMPLATE_USERARGS_3 typename T1,typename T2,typename T3
#define TB_RESOURCE_TEMPLATE_USERARGS_4 typename T1,typename T2,typename T3,typename T4
#define TB_RESOURCE_TEMPLATE_USERARGS_5 typename T1,typename T2,typename T3,typename T4,typename T5
#define TB_RESOURCE_DECL_USERARGS_0
#define TB_RESOURCE_DECL_USERARGS_1 T1 a1
#define TB_RESOURCE_DECL_USERARGS_2 T1 a1,T2 a2
#define TB_RESOURCE_DECL_USERARGS_3 T1 a1,T2 a2,T3 a3
#define TB_RESOURCE_DECL_USERARGS_4 T1 a1,T2 a2,T3 a3,T4 a4
#define TB_RESOURCE_DECL_USERARGS_5 T1 a1,T2 a2,T3 a3,T4 a4,T5 a5
#define TB_RESOURCE_USERARGS_0
#define TB_RESOURCE_USERARGS_1 a1
#define TB_RESOURCE_USERARGS_2 a1,a2
#define TB_RESOURCE_USERARGS_3 a1,a2,a3
#define TB_RESOURCE_USERARGS_4 a1,a2,a3,a4
#define TB_RESOURCE_USERARGS_5 a1,a2,a3,a4,a5
#define TB_RESOURCE_DECLMEMBER_USERARGS_0
#define TB_RESOURCE_DECLMEMBER_USERARGS_1 T1 m_Arg1
#define TB_RESOURCE_DECLMEMBER_USERARGS_2 T1 m_Arg1;T2 m_Arg2
#define TB_RESOURCE_DECLMEMBER_USERARGS_3 T1 m_Arg1;T2 m_Arg2;T3 m_Arg3
#define TB_RESOURCE_DECLMEMBER_USERARGS_4 T1 m_Arg1;T2 m_Arg2;T3 m_Arg3;T4 m_Arg4
#define TB_RESOURCE_DECLMEMBER_USERARGS_5 T1 m_Arg1;T2 m_Arg2;T3 m_Arg3;T4 m_Arg4;T5 m_Arg5
#define TB_RESOURCE_MEMBER_USERARGS_0
#define TB_RESOURCE_MEMBER_USERARGS_1 m_Arg1
#define TB_RESOURCE_MEMBER_USERARGS_2 m_Arg1,m_Arg2
#define TB_RESOURCE_MEMBER_USERARGS_3 m_Arg1,m_Arg2,m_Arg3
#define TB_RESOURCE_MEMBER_USERARGS_4 m_Arg1,m_Arg2,m_Arg3,m_Arg4
#define TB_RESOURCE_MEMBER_USERARGS_5 m_Arg1,m_Arg2,m_Arg3,m_Arg4,m_Arg5

// ヒープを使うFunctionテンプレート
// メンバ関数ポインタ

#define TB_RESOURCE_USERARGS_MAX 0
#include "./tb_resource_impl.h"
#undef TB_RESOURCE_USERARGS_MAX

#define TB_RESOURCE_USERARGS_MAX 1
#include "./tb_resource_impl.h"
#undef TB_RESOURCE_USERARGS_MAX

#define TB_RESOURCE_USERARGS_MAX 2
#include "./tb_resource_impl.h"
#undef TB_RESOURCE_USERARGS_MAX

#define TB_RESOURCE_USERARGS_MAX 3
#include "./tb_resource_impl.h"
#undef TB_RESOURCE_USERARGS_MAX

#define TB_RESOURCE_USERARGS_MAX 4
#include "./tb_resource_impl.h"
#undef TB_RESOURCE_USERARGS_MAX

#define TB_RESOURCE_USERARGS_MAX 5
#include "./tb_resource_impl.h"
#undef TB_RESOURCE_USERARGS_MAX

#endif
